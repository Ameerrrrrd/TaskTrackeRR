<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="TaskTrackeRR.MainPage"
             BackgroundColor="{AppThemeBinding Light='White', Dark='Black'}">

    <Grid RowDefinitions="*,Auto">

        <ScrollView Grid.Row="0">
            <VerticalStackLayout Padding="20" Spacing="15">
                <Label Text="To-Do List"
                       FontSize="32"
                       HorizontalOptions="Center"
                       TextColor="{AppThemeBinding Light='Black', Dark='White'}" />

                <CollectionView ItemsSource="{Binding Tasks}">
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <Frame Padding="15"
                                   Margin="5"
                                   CornerRadius="12"
                                   BackgroundColor="{AppThemeBinding Light='#e0e0e0', Dark='#2c2c2c'}">
                                <StackLayout>
                                    <Label Text="{Binding Name}"
                           FontSize="18"
                           TextColor="{AppThemeBinding Light='Black', Dark='White'}" />
                                    <Label Text="{Binding Description}"
                           FontSize="14"
                           TextColor="{AppThemeBinding Light='#888888', Dark='#aaaaaa'}"
                           LineBreakMode="TailTruncation" />
                                </StackLayout>
                            </Frame>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>
            </VerticalStackLayout>
        </ScrollView>

        <!-- Bottom input bar -->
        <Grid Grid.Row="1"
              Padding="10"
              ColumnDefinitions="*,Auto"
              ColumnSpacing="15"
              BackgroundColor="{AppThemeBinding Light='White', Dark='Black'}">

            <Entry x:Name="NewTaskEntry"
                   Placeholder="Enter new task"
                   Grid.Column="0"
                   HorizontalOptions="FillAndExpand"
                   BackgroundColor="{AppThemeBinding Light='#f0f0f0', Dark='#1e1e1e'}"
                   TextColor="{AppThemeBinding Light='Black', Dark='White'}"
                   PlaceholderColor="Gray" />

            <Button Text="Add Task"
                    Grid.Column="1"
                    Clicked="OnAddTaskClicked"
                    BackgroundColor="{AppThemeBinding Light='#007AFF', Dark='#0A84FF'}"
                    TextColor="White"
                    Padding="20,10" />
        </Grid>
    </Grid>
</ContentPage>
